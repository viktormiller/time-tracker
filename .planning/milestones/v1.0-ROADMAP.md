# Milestone v1.0: MVP

**Status:** SHIPPED 2026-02-06
**Phases:** 1-6
**Total Plans:** 16

## Overview

This roadmap transformed a working time tracking aggregator into a production-ready, deployable system. Starting with authentication security, moving through containerization and deployment infrastructure, then enhancing data quality and user experience, finally adding CLI access and extensibility for future time sources. Each phase built on the previous, delivering incremental value while maintaining the core functionality.

## Phases

### Phase 1: Authentication & Security
**Goal**: User can securely access the dashboard with credentials
**Depends on**: Nothing (first phase)
**Requirements**: REQ-001
**Success Criteria** (what must be TRUE):
  1. User can log in with username and password
  2. User remains logged in across browser sessions
  3. User can log out from any page
  4. All API routes require valid authentication
  5. Unauthenticated requests are rejected with 401
**Plans**: 4 plans

Plans:
- [x] 01-01-PLAN.md — Backend auth infrastructure (JWT, sessions, security)
- [x] 01-02-PLAN.md — Auth routes and middleware (login, logout, refresh)
- [x] 01-03-PLAN.md — Protect API routes and frontend integration
- [x] 01-04-PLAN.md — Verify complete authentication flow

### Phase 2: Containerization & Deployment
**Goal**: Application runs in production-ready Docker containers on Hetzner
**Depends on**: Phase 1
**Requirements**: REQ-002, REQ-003
**Success Criteria** (what must be TRUE):
  1. Frontend, backend, and database run in separate containers
  2. Services start in correct order with health checks
  3. `docker-compose up` launches entire stack
  4. Secrets managed via Docker Secrets (not environment variables)
  5. Only ports 80/443 exposed to public (database internal only)
**Plans**: 4 plans

Plans:
- [x] 02-01-PLAN.md — Backend Dockerfile, health endpoint, PostgreSQL config
- [x] 02-02-PLAN.md — Frontend Dockerfile, Nginx SPA routing and API proxy
- [x] 02-03-PLAN.md — Docker Compose orchestration and secrets management
- [x] 02-04-PLAN.md — End-to-end Docker stack verification

### Phase 3: Data Quality & PostgreSQL Migration
**Goal**: Production database with timezone support and robust synthetic IDs
**Depends on**: Phase 2
**Requirements**: REQ-005, REQ-009, REQ-004
**Success Criteria** (what must be TRUE):
  1. PostgreSQL replaces SQLite in production environment
  2. Existing SQLite data migrated successfully to PostgreSQL
  3. DateTime fields preserve timezone information (TIMESTAMPTZ)
  4. Concurrent sync operations don't cause duplicate ID conflicts
  5. Tempo entries display readable Jira issue keys (e.g., ABC-27)
**Plans**: 4 plans

Plans:
- [x] 03-01-PLAN.md — Schema migration (TIMESTAMPTZ, database-level UUIDs, pgloader migration script)
- [x] 03-02-PLAN.md — Tempo service enhancement (issue key display, collision handling, Jira config)
- [x] 03-03-PLAN.md — Frontend enhancements (timezone selector, relative timestamps, clickable Jira links)
- [x] 03-04-PLAN.md — End-to-end verification (migration validation, concurrent sync tests, UI verification)

### Phase 4: UX Enhancements
**Goal**: Users can customize theme and export their data
**Depends on**: Phase 3
**Requirements**: REQ-006, REQ-007, REQ-008
**Success Criteria** (what must be TRUE):
  1. User can toggle between light and dark themes
  2. Theme preference persists across sessions
  3. User can export filtered entries as CSV file
  4. User can export filtered entries with chart as PDF
  5. All components readable in both light and dark modes
**Plans**: 4 plans

Plans:
- [x] 04-01-PLAN.md — Dark mode implementation (theme toggle, FOUC prevention, component styling)
- [x] 04-02-PLAN.md — CSV export (client-side generation with sanitization)
- [x] 04-03-PLAN.md — PDF export backend (Puppeteer service, API endpoint, Docker config)
- [x] 04-04-PLAN.md — PDF export frontend and end-to-end verification

### Phase 5: Manual Entry & Provider Abstraction
**Goal**: Users can add entries directly and system is ready for new sources
**Depends on**: Phase 4
**Requirements**: REQ-010, REQ-015
**Plans**: Pre-existing (implemented before GSD tracking)

Plans:
- [x] Pre-existing implementation — AddEntry UI, Provider interface, BaseTimeProvider

### Phase 6: CLI Tool
**Goal**: User can check worked hours from terminal without browser
**Depends on**: Phase 5
**Requirements**: REQ-011, REQ-012, REQ-013
**Plans**: Pre-existing (implemented before GSD tracking)

Plans:
- [x] Pre-existing implementation — Go CLI with login, today, week, sync commands + backend summary endpoints

---

## Milestone Summary

**Key Decisions:**
- Single user auth first: Faster to deployment, simpler security
- Go for CLI: Developer familiarity, single binary distribution
- CLI via backend API: Single source of truth, no duplicate API logic
- Docker Compose: Simplifies multi-container deployment
- node:22-slim for backend (bcrypt compatibility), Alpine for frontend
- Puppeteer for PDF generation (server-side, better quality)
- PostgreSQL gen_random_uuid() for database-level UUID generation
- Tailwind darkMode: 'selector' for class-based theming
- react-select for consistent dropdown styling

**Issues Resolved:**
- Rate limiting too aggressive — scoped to login endpoint only
- Frontend loses auth on refresh — session restoration on page load
- Infinite 401 refresh loop — isRefreshing flag prevents concurrent refresh
- Local dev broken after containerization — docker-compose provides PostgreSQL
- Timezone selector not visible — frontend container rebuild
- Cache permission errors — updated Dockerfile permissions
- Entry order incorrect — secondary sort by externalId

**Issues Deferred:**
- Phase 7 (Clockify integration) — removed from roadmap, deferred to future milestone
- REQ-014 (Clockify) — not addressed in v1.0

**Technical Debt Incurred:**
- Traceability table in REQUIREMENTS.md shows some statuses as "Pending" despite completion
- Phase 5 and 6 lack formal SUMMARY.md files (pre-existing work)

---

_Archived: 2026-02-06 as part of v1.0 MVP milestone completion_
